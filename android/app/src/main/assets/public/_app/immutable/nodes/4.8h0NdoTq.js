import"../chunks/DsnmJJEf.js";import{i as Aa}from"../chunks/BCXvS5-J.js";import{g as La,p as ja,o as Da,n as Ua,q as Na,m as ea,v as Pa,a as H,b as o,c as Va,$ as Ta,j as Ea,w as Fa,f as c,d as e,s as t,x as r,r as s,y as Ha,k as I,t as _,e as h}from"../chunks/zjNGrtKt.js";import{i as m}from"../chunks/DNhcWaGG.js";import{r as b,a as f,s as sa}from"../chunks/DJ2II89Z.js";import{s as Ia}from"../chunks/k5YxE_ZS.js";import{a as Ma,s as M}from"../chunks/P1CHQYUc.js";import{g as y}from"../chunks/BSObKBMn.js";import{g as Oa,i as Sa,a as qa,u as Ba}from"../chunks/zIVoLjNL.js";var Ga=c('<div class="flex justify-center items-center min-h-[50vh]"><div class="loading loading-spinner loading-lg"></div></div>'),Ja=c("<img/>"),Ra=c('<div class="bg-neutral text-neutral-content w-full h-full flex items-center justify-center text-2xl font-bold"> </div>'),Ya=c('<label class="input"><span class="label">Last Updated</span> <input type="text" readonly=""/></label>'),za=c('<label class="input"><span class="label">Locale</span> <input type="text" readonly=""/></label>'),Ca=c('<div class="divider"></div> <div class="space-y-2"><h3 class="text-lg font-semibold">Developer Info</h3> <label class="input w-full"><span class="label">Access Token (First 50 chars)</span> <input type="text" readonly=""/></label></div>',1),Ka=()=>y("/"),Qa=c('<div class="container mx-auto px-4 py-8"><div class="max-w-2xl mx-auto"><h1 class="text-3xl font-bold mb-8">User Profile</h1> <div class="card bg-base-200 shadow-xl"><div class="card-body"><div class="flex items-center space-x-4"><div class="avatar"><div class="w-20 h-20 rounded-full"><!></div></div> <div><h2 class="text-2xl font-semibold"> </h2> <p class="text-base-content/70"> </p></div></div> <div class="divider"></div> <div class="space-y-4"><h3 class="text-xl font-semibold mb-4">Profile Information</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><label class="input"><span class="label">Name</span> <input type="text" readonly=""/></label> <label class="input"><span class="label">Email</span> <input type="email" readonly=""/></label> <label class="input"><span class="label">Nickname</span> <input type="text" readonly=""/></label> <label class="input"><span class="label">Email Verified</span> <span> </span> <input class="hidden"/></label> <!> <!></div></div> <!> <div class="card-actions justify-end mt-6"><button class="btn btn-primary">Back to Home</button></div></div></div> <details class="mt-8"><summary class="cursor-pointer text-sm opacity-70 hover:opacity-100">View Raw User Object (Debug)</summary> <div class="mt-4"><pre class="bg-base-200 p-4 rounded-lg text-xs overflow-auto"> </pre></div></details></div></div>'),Wa=()=>y("/"),Xa=c('<div class="flex justify-center items-center min-h-[50vh]"><div class="text-center"><h2 class="text-2xl font-bold mb-4">Access Denied</h2> <p class="mb-4">You need to be logged in to view this page.</p> <button class="btn btn-primary">Go Home</button></div></div>');function oe(ta,ia){ja(ia,!1);const k=()=>M(Sa,"$isAuthenticated",L),A=()=>M(qa,"$isLoading",L),a=()=>M(Ba,"$user",L),[L,la]=Ma();let w=Fa(null);Da(async()=>{if(!k()){y("/");return}try{Ea(w,await Oa())}catch(v){console.error("Failed to get access token:",v)}}),Ua(()=>(A(),k(),y),()=>{!A()&&!k()&&y("/")}),Na(),Aa();var O=ea();Pa(v=>{Ta.title="Profile - La Mexicocina"});var ra=H(O);{var na=v=>{var $=Ga();o(v,$)},oa=v=>{var $=ea(),va=H($);{var ca=p=>{var d=Qa(),g=e(d),x=t(e(g),2),S=e(x),j=e(S),D=e(j),q=e(D),pa=e(q);{var ua=i=>{var l=Ja();_(()=>{sa(l,"src",(a(),r(()=>a().picture))),sa(l,"alt",`Profile picture of ${a(),r(()=>a().name)??""}`)}),o(i,l)},_a=i=>{var l=Ra(),n=e(l,!0);s(l),_(u=>h(n,u),[()=>(a(),r(()=>a().name?.charAt(0)||"U"))]),o(i,l)};m(pa,i=>{a(),r(()=>a().picture)?i(ua):i(_a,!1)})}s(q),s(D);var B=t(D,2),U=e(B),ma=e(U,!0);s(U);var G=t(U,2),ba=e(G,!0);s(G),s(B),s(j);var N=t(j,4),J=t(e(N),2),P=e(J),R=t(e(P),2);b(R),s(P);var V=t(P,2),Y=t(e(V),2);b(Y),s(V);var T=t(V,2),z=t(e(T),2);b(z),s(T);var E=t(T,2),F=t(e(E),2),fa=e(F,!0);s(F),Ha(2),s(E);var C=t(E,2);{var ga=i=>{var l=Ya(),n=t(e(l),2);b(n),s(l),_(u=>f(n,u),[()=>(a(),r(()=>new Date(a().updated_at).toLocaleDateString()))]),o(i,l)};m(C,i=>{a(),r(()=>a().updated_at)&&i(ga)})}var xa=t(C,2);{var ha=i=>{var l=za(),n=t(e(l),2);b(n),s(l),_(()=>f(n,(a(),r(()=>a().locale)))),o(i,l)};m(xa,i=>{a(),r(()=>a().locale)&&i(ha)})}s(J),s(N);var K=t(N,2);{var ya=i=>{var l=Ca(),n=t(H(l),2),u=t(e(n),2),aa=t(e(u),2);b(aa),s(u),s(n),_($a=>f(aa,$a),[()=>(I(w),r(()=>I(w).substring(0,50)+"..."))]),o(i,l)};m(K,i=>{I(w)&&i(ya)})}var Q=t(K,2),ka=e(Q);ka.__click=[Ka],s(Q),s(S),s(x);var W=t(x,2),X=t(e(W),2),Z=e(X),wa=e(Z,!0);s(Z),s(X),s(W),s(g),s(d),_(i=>{h(ma,(a(),r(()=>a().name||"User"))),h(ba,(a(),r(()=>a().email||""))),f(R,(a(),r(()=>a().name||""))),f(Y,(a(),r(()=>a().email||""))),f(z,(a(),r(()=>a().nickname||""))),Ia(F,1,`badge ${a(),r(()=>a().email_verified?"badge-success":"badge-warning")??""}`),h(fa,(a(),r(()=>a().email_verified?"Verified":"Not Verified"))),h(wa,i)},[()=>(a(),r(()=>JSON.stringify(a(),null,2)))]),o(p,d)},da=p=>{var d=Xa(),g=e(d),x=t(e(g),4);x.__click=[Wa],s(g),s(d),o(p,d)};m(va,p=>{k()&&a()?p(ca):p(da,!1)},!0)}o(v,$)};m(ra,v=>{A()?v(na):v(oa,!1)})}o(ta,O),Va(),la()}La(["click"]);export{oe as component};
